<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LBMS Portal - Registration Summary</title>
  <link rel="stylesheet" href="static/registration.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"/>
</head>
<body>
  <div class="background-overlay"></div>
  <div class="container">
    <!-- Progress Bar -->
    <div class="progress-container">
      <div class="progress-step completed"><div class="step-number">1</div><div class="step-label">Personal Info</div></div>
      <div class="progress-step completed"><div class="step-number">2</div><div class="step-label">Employment</div></div>
      <div class="progress-step completed"><div class="step-number">3</div><div class="step-label">Additional Info</div></div>
      <div class="progress-step active"><div class="step-number">4</div><div class="step-label">Review</div></div>
    </div>

    <form id="registrationPrint-form" class="profile-form">
      <h2>
        <span class="icon"><img src="static/assets/personal_icon.png" alt="Profile Icon" style="width: 1.3em; vertical-align: middle;"></span>
        REGISTRATION SUMMARY
      </h2>
      <hr style="border: 0; border-top: 1.5px solid #545454; margin: 10px 0 20px 0;" />

      <!-- Personal Information Summary -->
      <section class="summary-section">
        <h3><i class="fas fa-user"></i> Personal Information</h3>
        <div class="summary-grid">
          <div class="summary-item"><label>Full Name:</label><span id="fullName"></span></div>
          <div class="summary-item"><label>Date of Birth:</label><span id="dob"></span></div>
          <div class="summary-item"><label>Nationality:</label><span id="nationality"></span></div>
          <div class="summary-item"><label>Civil Status:</label><span id="civilStatus"></span></div>
          <div class="summary-item"><label>Address:</label><span id="address"></span></div>
        </div>
      </section>

      <!-- Employment Information Summary -->
      <section class="summary-section">
        <h3><i class="fas fa-briefcase"></i> Employment Information</h3>
        <div class="summary-grid">
          <div class="summary-item"><label>Occupation:</label><span id="occupation"></span></div>
          <div class="summary-item"><label>Nature of Business:</label><span id="natureOfBusiness"></span></div>
          <div class="summary-item"><label>Monthly Income:</label><span id="monthlyIncome"></span></div>
          <div class="summary-item"><label>Annual Income:</label><span id="annualIncome"></span></div>
        </div>
      </section>

      <!-- Additional Information Summary -->
      <section class="summary-section">
        <h3><i class="fas fa-info-circle"></i> Additional Information</h3>
        <div class="summary-grid">
          <div class="summary-item"><label>Bank Accounts:</label><span id="bankAccounts"></span></div>
          <div class="summary-item"><label>Government Relations:</label><span id="govRelations"></span></div>
        </div>
      </section>

      <!-- Terms and Conditions -->
      <section class="terms-section">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="termsCheck" required />
          <label class="form-check-label" for="termsCheck">
            I confirm that all information provided is accurate and complete. I understand that any false or misleading information may result in the rejection of my application.
          </label>
        </div>
      </section>

      <div class="form-actions">
        <button type="button" class="cancel-btn back-btn">
          <i class="fas fa-arrow-left"></i> BACK
        </button>
        <button type="button" class="submit-btn"
          onclick="document.getElementById('registrationPrint-form').dispatchEvent(new Event('submit', { bubbles: true, cancelable: true }))">
          <i class="fas fa-check"></i> SUBMIT
        </button>
      </div>
    </form>
  </div>

  <!-- JS to Fill Summary -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const r1 = JSON.parse(sessionStorage.getItem('registration1-form') || '{}');
      const r2 = JSON.parse(sessionStorage.getItem('registration2-form') || '{}');
      const r3 = JSON.parse(sessionStorage.getItem('registration3-form') || '{}');

      document.getElementById('fullName').textContent = `${r1.firstName || ''} ${r1.lastName || ''}`;
      document.getElementById('dob').textContent = r1.dob || '';
      document.getElementById('nationality').textContent = r1.nationality || '';
      document.getElementById('civilStatus').textContent = r1.civilStatus || '';
      document.getElementById('address').textContent = r1.address || '';

      document.getElementById('occupation').textContent = r2.occupation || '';
      document.getElementById('natureOfBusiness').textContent = r2.natureOfBusiness || '';
      document.getElementById('monthlyIncome').textContent = r2.monthlyIncome || '';
      document.getElementById('annualIncome').textContent = r2.annualIncome || '';

      document.getElementById('bankAccounts').textContent = r3.bank ? `${r3.bank.length} account(s) listed` : 'None';
      document.getElementById('govRelations').textContent = r3.relationship ? `${r3.relationship.length} relation(s) listed` : 'None';
    });
  </script>

  <!-- Include JS -->
  <script src="static/js/registration.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
